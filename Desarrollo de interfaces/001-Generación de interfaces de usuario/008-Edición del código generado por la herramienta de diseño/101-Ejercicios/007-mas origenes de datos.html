<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Gráfica</title>
        <style>
        table{
            font-family:sans-serif;
        }
        table td:first-child{
            text-align: right;
        }
        .barra{
            min-width:0px;
            height:10px;
            background: red;
            border-radius: 5px;
            padding: 5px;
            color: white;
            font-size: 10px;
            line-height: 10px;
            font-weight: bold;
        }
        </style>
    </head>
    <body>
        <div class="grafica1"></div>
        <div class="grafica2"></div>
        <div class="grafica3"></div>
        <div class="grafica4"></div>
        <script>
            let datos1 = [
                {
                "Etiqueta":"España",
                "Valor":34
                },
                 {
                "Etiqueta":"Francia",
                "Valor":78  
                },
                 {
                "Etiqueta":"Alemania",
                "Valor":76
                },
                 {
                "Etiqueta":"Austria",
                "Valor":87
                },
                 {
                "Etiqueta":"Italia",
                "Valor":98
                },
                
            ]
            let datos2 = [
                {
                    "Etiqueta": "Fútbol",
                    "Valor": 92
                },
                {
                    "Etiqueta": "Baloncesto",
                    "Valor": 75
                },
                {
                    "Etiqueta": "Tenis",
                    "Valor": 63
                },
                {
                    "Etiqueta": "Natación", 
                    "Valor": 58
                },
                {
                    "Etiqueta": "Ciclismo",
                    "Valor": 71
                }
            ]
            let datos3 = [
                {
                    "Etiqueta": "Rojo",
                    "Valor": 81
                },
                {
                    "Etiqueta": "Azul",
                    "Valor": 66
                },
                {
                    "Etiqueta": "Verde", 
                    "Valor": 59
                },
                {
                    "Etiqueta": "Amarillo",
                    "Valor": 72
                },
                {
                    "Etiqueta": "Morado",
                    "Valor": 48
                }
            ]
            let datos4 = [
                {
                    "Etiqueta": "Manzana",
                    "Valor": 45
                },
                {
                    "Etiqueta": "Plátano", 
                    "Valor": 67
                },
                {
                    "Etiqueta": "Naranja",
                    "Valor": 52
                },
                {
                    "Etiqueta": "Uva",
                    "Valor": 78
                },
                {
                    "Etiqueta": "Fresa",
                    "Valor": 89
                }
            ]
            
            function graficaBarras(selector,misdatos){
            
            let grafica = document.querySelector(selector);
            
            let tabla = document.createElement("table");
            grafica.appendChild(tabla)
            
            let cabecera = document.createElement("thead");
            tabla.appendChild(cabecera)
            
            let filacabecera = document.createElement("tr");
            filacabecera.innerHTML = "<th>Valor<th><th>Grafica</th>"
            cabecera.appendChild(filacabecera)

            let cuerpo = document.createElement("tbody");
            tabla.appendChild(cuerpo);
            
            misdatos.forEach(function(dato){
            
                let fila = document.createElement("tr")
                cuerpo.appendChild(fila);
                
                let valor = document.createElement("td")
                valor.textContent = dato.Valor
                fila.appendChild(valor)
                let contienebarra = document.createElement("td")
                let barra = document.createElement("div")
                barra.classList.add("barra")
                barra.textContent = dato.Etiqueta
                barra.style.width = dato.Valor+"px"
                contienebarra.appendChild(barra)
                fila.appendChild(valor)
                fila.appendChild(contienebarra)
            
            })
            }
            graficaBarras(".grafica1",datos1)
            graficaBarras(".grafica2",datos2)
            graficaBarras(".grafica3",datos3)
            graficaBarras(".grafica4",datos4)
        </script>
    </body>
</html>
